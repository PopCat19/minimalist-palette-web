<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Scrollable Square Color Palette</title>
        <!-- Link External CSS -->
        <link rel="stylesheet" href="palette.css">
        <!-- Include html2canvas library -->
        <script
            src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"
            integrity="sha512-BNaRQnYJYiPSqHHDb58B0yaPfCu+Wgds8Gp/gU33kqBtgNS4tSPHuGibyoeqMV/TJlSKda6FXzoEyYGjTe+vXA=="
            crossorigin="anonymous"
            referrerpolicy="no-referrer"
        ></script>
    </head>
    <body>
        <!-- NEW Container for Bottom Controls -->
        <div id="bottom-controls">
            <!-- Config Toggle Button (Moved inside) -->
            <button id="config-toggle-button" aria-label="Open Configuration">Config</button>

            <!-- Zoom Controls (Moved here) -->
            <div id="zoom-controls" class="control-group">
                <label for="zoom-slider">Zoom:</label>
                <input type="range" id="zoom-slider" min="40" max="200" value="100" step="4">
                <input type="number" id="zoom-number" min="40" max="200" value="100" step="4">
            </div>
        </div>

        <!-- Pannable Viewport -->
        <div id="canvas-viewport">
            <!-- Palette Container (moved by JS) -->
            <div id="palette-container">
                <div id="palette-grid">
                    <!-- Palette cells will be generated by JavaScript here -->
                </div>
            </div>
        </div>

        <!-- Configuration Modal -->
        <div id="config-modal">
            <button class="modal-close-button" aria-label="Close Configuration">&times;</button>

            <div class="config-section">
                <h3>Palette Actions</h3>
                <div class="control-group">
                <button id="edit-palette-button" class="control-button">
                    Edit Palette Data
                </button>
                <button id="export-png-button" class="control-button">
                    Export as PNG
                </button>
            </div>
            </div>

             <div class="config-section" id="palette-editor-section">
                 <!-- <h3>Edit Palette</h3> -->
                 <label
                    for="palette-input"
                    style="display: block; margin-bottom: 10px; font-weight: 500; font-size: 14px;"
                >
                    Palette Data (Space-Delimited rows, #Hex for colors):
                </label>
                <textarea
                    id="palette-input"
                    spellcheck="false"
                    placeholder="Example Row:&#10;Label1 #ff0000 #00ff00 Label2 #0000ff ..."
                ></textarea>
                <button id="update-button">Update Palette from Text</button>
            </div>

            <div class="config-section">
                <h3>Adjustments</h3>
                 <div id="interpolation-controls" class="control-group">
                     <label for="interpolation-toggle">
                         Distribute Shades (Vertical):
                     </label>
                <input type="checkbox" id="interpolation-toggle" />
                     <div id="interpolation-steps-group" class="slider-group">
                    <label for="interpolation-steps-slider">Steps:</label>
                    <input
                        type="range"
                        id="interpolation-steps-slider"
                             min="1" max="10" value="1" step="1"
                    />
                    <input
                        type="number"
                        id="interpolation-steps-number"
                             min="1" max="10" value="1"
                    />
                </div>
            </div>
                  <div id="saturation-controls" class="control-group">
                <label for="saturation-offset-slider">Saturation Offset:</label>
                     <div id="saturation-offset-group" class="slider-group">
                    <input
                        type="range"
                        id="saturation-offset-slider"
                             min="-100" max="100" value="0" step="1"
                    />
                    <input
                        type="number"
                        id="saturation-offset-number"
                             min="-100" max="100" value="0"
                    />
                    <span>%</span>
                </div>
            </div>
        </div>
        </div>

        <!-- Link External JS (defer ensures HTML is parsed first) -->
        <script src="palette.js" defer></script>
    </body>
</html>
